# Optional - The name of the workflow as it will appear in the "Actions" tab of the GitHub repository.
# If this field is omitted, the name of the workflow file will be used instead.
name: Docker for my-master

# Optional - The name for workflow runs generated from the workflow, which will appear in the list of workflow runs on your repository's "Actions" tab.
# The github context to display the username of the actor that triggered the workflow run.
run-name: Docker Image CI for my-master - by ${{ github.actor }}

on:
  push:
    branches: [ "my-master" ]
  pull_request:
    branches: [ "my-master" ]

  # To run a workflow manually
  workflow_dispatch:
    # Optionally specify inputs
    inputs:
      tag:
        description: 'Docker image tag'
        required: true
        type: string

jobs:

  # Defines a job named building. The child keys will define properties of the job.
  building:

    runs-on: ubuntu-latest

    steps:
      # Checks out repository onto the runner
      - uses: actions/checkout@v4

      # Install Node.js
      # This puts both the node and npm commands in your PATH.
      - uses: actions/setup-node@v4
        with:
          node-version: '16'

      - name: Build the Docker image
        run: echo docker build . --file Dockerfile --tag my-image-name:$(date +%s)
